class Solution {
    public double myPow(double x, int n) {
      long p=n;
      if(p<0){
         x=1/x;
         p=-p;
      }
      double r=1.0;
      while(p>0){
      if(p%2==1){
        r=r*x;
      }
      x=x*x;
      p/=2;
    }
    return r;
  }
}
